function generateUserId(){return"user_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)}async function fetchQuizConfig(){try{let t=await fetch(`${API_BASE_URL}/config`);if(!t.ok)throw Error("Failed to fetch quiz config");return await t.json()}catch(e){throw console.error("Error fetching quiz config:",e),e}}async function fetchQuestionPages(){try{let t=await fetch(`${API_BASE_URL}/pages`);if(!t.ok)throw Error("Failed to fetch question pages");return await t.json()}catch(e){throw console.error("Error fetching question pages:",e),e}}async function fetchPdfUrl(){try{let t=await fetch(`${API_BASE_URL}/pdf`);if(!t.ok)throw Error("Failed to fetch PDF URL");let e=await t.json();return e.url}catch(r){throw console.error("Error fetching PDF URL:",r),r}}async function submitQuizResults(){try{let t={userId:userId,answers:quizState.answers,timeSpent:quizState.timeSpent,timestamp:new Date().toISOString()},e=await fetch(`${API_BASE_URL}/submit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw Error("Failed to submit quiz results");let r=await e.json();return quizState.resultId=r.resultId,r.success&&(quizState.totalMarks=r.totalMarks,quizState.score=r.percentage,quizState.correctAnswers=r.correctAnswers,quizState.incorrectAnswers=r.incorrectAnswers,quizState.skippedQuestions=quizConfig.totalQuestions-r.correctAnswers-r.incorrectAnswers),r}catch(n){return console.error("Error submitting quiz results:",n),calculateResultsLocally(),null}}async function fetchDetailedResults(){if(!quizState.resultId)return null;try{let t=await fetch(`${API_BASE_URL}/results?id=${quizState.resultId}`);if(!t.ok)throw Error("Failed to fetch detailed results");return await t.json()}catch(e){return console.error("Error fetching detailed results:",e),null}}!function(){let t="KUMAR8948RAHUL@GMAIL.COM";function e(){throw document.documentElement.innerHTML="",document.body.innerHTML="<h3 style='text-align:center;margin-top:20%;font-family:sans-serif;'>Contact: "+t+"</h3>",Error("Blocked")}try{let r=document.querySelector('meta[name="aa0105-mail"]');r&&r.getAttribute("content")===t||e(),document.addEventListener("copy",function(e){let r=window.getSelection().toString();r&&(e.clipboardData.setData("text/plain",r+"\n\n"+t),e.preventDefault())})}catch(n){e()}}();