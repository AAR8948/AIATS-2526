elements.prevBtn.addEventListener("click",()=>{quizState.currentQuestionIndex>0&&loadQuestion(quizState.currentQuestionIndex-1)}),elements.nextBtn.addEventListener("click",()=>{quizState.currentQuestionIndex<quizConfig.totalQuestions-1&&loadQuestion(quizState.currentQuestionIndex+1)}),elements.submitBtn.addEventListener("click",submitQuiz),elements.submitQuestionBtn.addEventListener("click",submitAnswer),elements.explanationBtn.addEventListener("click",showExplanation),elements.closeExplanation.addEventListener("click",()=>{elements.explanationModal.style.transition="opacity 0.3s ease",elements.explanationModal.style.opacity="0",setTimeout(()=>{elements.explanationModal.style.display="none"},300)}),window.addEventListener("click",e=>{e.target===elements.explanationModal&&(elements.explanationModal.style.transition="opacity 0.3s ease",elements.explanationModal.style.opacity="0",setTimeout(()=>{elements.explanationModal.style.display="none"},300))}),elements.restartQuizBtn.addEventListener("click",()=>{quizState.currentQuestionIndex=0,quizState.score=0,quizState.totalMarks=0,quizState.correctAnswers=0,quizState.incorrectAnswers=0,quizState.skippedQuestions=0,quizState.timeSpent=0,quizState.questionTimes=Array(quizConfig.totalQuestions).fill(0),quizState.answers=Array(quizConfig.totalQuestions).fill(null),quizState.completed=!1,quizState.currentPage=1,quizState.resultId=null,quizState.subjectWise={physics:{correct:0,total:45,percentage:0},chemistry:{correct:0,total:45,percentage:0},biology:{correct:0,total:90,percentage:0}},userId=generateUserId(),elements.currentScore.textContent="0",elements.resultsContainer.style.display="none",elements.quizContainer.style.display="block",startQuiz()}),elements.reviewAnswersBtn.addEventListener("click",()=>{document.querySelector('.aa0105-tab[data-tab="analysis"]').click()}),elements.tabs.forEach(e=>{e.addEventListener("click",()=>{elements.tabs.forEach(e=>e.classList.remove("aa0105-active")),elements.tabContents.forEach(e=>e.classList.remove("aa0105-active")),e.classList.add("aa0105-active");let t=e.getAttribute("data-tab");document.getElementById(`aa0105${t.charAt(0).toUpperCase()+t.slice(1)}Tab`).classList.add("aa0105-active")})}),elements.jumpBtn.addEventListener("click",()=>{let e=parseInt(elements.jumpToQuestion.value);e>=1&&e<=quizConfig.totalQuestions?loadQuestion(e-1):alert(`Please enter a question number between 1 and ${quizConfig.totalQuestions}`)}),elements.jumpToQuestion.addEventListener("keypress",e=>{"Enter"===e.key&&elements.jumpBtn.click()}),elements.prevPageBtn.addEventListener("click",()=>{navigateToPage(quizState.currentPage-1)}),elements.nextPageBtn.addEventListener("click",()=>{navigateToPage(quizState.currentPage+1)}),elements.currentPageInput.addEventListener("change",e=>{let t=parseInt(e.target.value);isNaN(t)||navigateToPage(t)}),elements.currentPageInput.addEventListener("keypress",e=>{if("Enter"===e.key){let t=parseInt(e.target.value);isNaN(t)||navigateToPage(t)}}),document.addEventListener("keydown",e=>{"ArrowLeft"===e.key&&quizState.currentQuestionIndex>0?loadQuestion(quizState.currentQuestionIndex-1):"ArrowRight"===e.key&&quizState.currentQuestionIndex<quizConfig.totalQuestions-1?loadQuestion(quizState.currentQuestionIndex+1):"Enter"===e.key&&quizState.currentQuestionIndex<quizConfig.totalQuestions-1?loadQuestion(quizState.currentQuestionIndex+1):"PageUp"===e.key?navigateToPage(quizState.currentPage-1):"PageDown"===e.key&&navigateToPage(quizState.currentPage+1)}),window.addEventListener("load",()=>{initQuiz()});